<header
  class="sticky top-0 z-50 w-full border-b border-gray-200 bg-white/95 backdrop-blur-md shadow-sm"
>
  <div class="container-custom">
    <div class="flex h-16 items-center justify-between">
      <!-- Logo -->
      <a routerLink="/" class="flex items-center gap-2 cursor-pointer">
        <div class="bg-blue-600 p-1.5 rounded-lg text-white">
          <span class="material-symbols-outlined block text-xl">work</span>
        </div>
        <h2 class="text-xl font-bold tracking-tight text-gray-900">JobFinder</h2>
      </a>

      <!-- Desktop Navigation -->
      <nav class="hidden md:flex flex-1 justify-center gap-8">
        <a routerLink="/jobs/search" class="nav-link"> Find Jobs </a>
        
        <!-- Afficher uniquement si connecté -->
        <ng-container *ngIf="isLoggedIn">
          <a routerLink="/favorites" class="nav-link">
            My Favorites
            <span class="badge badge-blue ml-1">{{ favoritesCount }}</span>
          </a>
          <a routerLink="/applications" class="nav-link">
            My Applications
            <span class="badge badge-green ml-1">{{ applicationsCount }}</span>
          </a>
        </ng-container>
      </nav>

      <!-- Desktop Auth Buttons / User Menu -->
      <div class="hidden md:flex items-center gap-3">
        <!-- Boutons Login/Signup - affichés si non connecté -->
        <ng-container *ngIf="!isLoggedIn">
          <button [routerLink]="'/auth/login'" class="btn-secondary btn-sm">Login</button>
          <button [routerLink]="'/auth/register'" class="btn-primary btn-sm">Sign Up</button>

        </ng-container>
        
        <!-- Bouton Logout - affiché si connecté -->
        <button *ngIf="isLoggedIn" (click)="logout()" class="btn-secondary btn-sm text-red-600">
          Logout
        </button>
      </div>

      <!-- Mobile Menu Button -->
      <button class="md:hidden icon-btn" (click)="toggleMobileMenu()">
        <span class="material-symbols-outlined">menu</span>
      </button>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div *ngIf="mobileMenuOpen" class="md:hidden border-t border-gray-200 bg-white">
    <div class="container-custom py-4 space-y-2">
      <!-- Navigation Links -->
      <a routerLink="/jobs/search" (click)="toggleMobileMenu()" class="mobile-nav-link">
        <span class="material-symbols-outlined">search</span>
        Find Jobs
      </a>

      <!-- Links visibles uniquement si connecté -->
      <ng-container *ngIf="isLoggedIn">
        <a routerLink="/favorites" (click)="toggleMobileMenu()" class="mobile-nav-link">
          <span class="material-symbols-outlined">favorite</span>
          My Favorites
          <span class="badge badge-blue ml-auto">{{ favoritesCount }}</span>
        </a>

        <a routerLink="/applications" (click)="toggleMobileMenu()" class="mobile-nav-link">
          <span class="material-symbols-outlined">description</span>
          My Applications
          <span class="badge badge-green ml-auto">{{ applicationsCount }}</span>
        </a>

        <a routerLink="/profile" (click)="toggleMobileMenu()" class="mobile-nav-link">
          <span class="material-symbols-outlined">account_circle</span>
          My Profile
        </a>
      </ng-container>

      <!-- Auth Buttons (Mobile) - affichés si non connecté -->
      <ng-container *ngIf="!isLoggedIn">
        <div class="pt-3 border-t border-gray-200 space-y-2">
          <a routerLink="/auth/login" (click)="toggleMobileMenu()" class="btn-secondary w-full justify-center block text-center">
            Login
          </a>
          <a routerLink="/auth/register" (click)="toggleMobileMenu()" class="btn-primary w-full justify-center block text-center">
            Sign Up
          </a>
        </div>
      </ng-container>

      <!-- Logout Button - affiché si connecté -->
      <div *ngIf="isLoggedIn" class="pt-3 border-t border-gray-200">
        <button (click)="logout()" class="mobile-nav-link text-red-600 w-full text-left">
          <span class="material-symbols-outlined">logout</span>
          Logout
        </button>
      </div>
    </div>
  </div>
</header>